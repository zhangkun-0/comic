<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comic Layout Studio</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <h1>Comic Layout Studio</h1>
      <section>
        <h2>页面设置</h2>
        <label>宽度 (px)
          <input type="number" id="page-width" min="200" value="1000">
        </label>
        <label>高度 (px)
          <input type="number" id="page-height" min="200" value="1600">
        </label>
      </section>
      <section>
        <h2>漫画区域</h2>
        <label>上下间隙 (px)
          <input type="number" id="area-margin-y" min="0" value="60">
        </label>
        <label>左右间隙 (px)
          <input type="number" id="area-margin-x" min="0" value="60">
        </label>
        <label>格框间隙颜色
          <select id="gap-color">
            <option value="white" selected>白色</option>
            <option value="black">黑色</option>
          </select>
        </label>
        <label>格框粗细 (px)
          <input type="number" id="frame-thickness" min="1" value="4">
        </label>
      </section>
      <section>
        <h2>格子切分</h2>
        <label>纵切间隙 (px)
          <input type="number" id="slice-gap-x" min="0" value="16">
        </label>
        <label>横切间隙 (px)
          <input type="number" id="slice-gap-y" min="0" value="24">
        </label>
        <button id="toggle-draw" class="primary">开始切分格子</button>
      </section>
      <section>
        <h2>选中格子</h2>
        <div class="panel-controls">
          <button id="delete-panel" class="danger">删除格子</button>
          <div class="control-block">
            <label>导入图片
              <input type="file" id="panel-image" accept="image/*">
            </label>
            <label>旋转 (°)
              <input type="range" id="image-rotation" min="-180" max="180" step="1" value="0">
            </label>
            <button id="image-flip">水平翻转</button>
          </div>
          <div class="control-block">
            <h3>调色</h3>
            <label>色相
              <input type="range" id="filter-hue" min="-180" max="180" value="0">
            </label>
            <label>饱和度 (%)
              <input type="range" id="filter-saturation" min="0" max="300" value="100">
            </label>
            <label>对比度 (%)
              <input type="range" id="filter-contrast" min="50" max="300" value="100">
            </label>
          </div>
        </div>
      </section>
      <section>
        <h2>对话框</h2>
        <button id="add-bubble">新增对话框</button>
        <button id="delete-bubble" class="danger">删除对话框</button>
        <div class="bubble-controls">
          <label>样式
            <select id="bubble-type">
              <option value="ellipse">椭圆</option>
              <option value="rectangle">矩形</option>
              <option value="pointer">尖角椭圆</option>
            </select>
          </label>
          <label>文字大小
            <input type="number" id="bubble-font-size" min="8" max="80" value="24">
          </label>
          <label>内边距 (px)
            <input type="number" id="bubble-padding" min="0" max="80" value="16">
          </label>
          <label>对话框粗细 (px)
            <input type="number" id="bubble-stroke" min="1" max="20" value="5">
          </label>
          <label>内容
            <textarea id="bubble-text" rows="4"></textarea>
          </label>
        </div>
      </section>
    </aside>
    <main class="workspace">
      <div id="stage-container" class="stage-container">
        <div id="page-size-indicator" class="page-size-indicator"></div>
        <div id="page-container">
          <div id="page" class="page" data-mode="view">
            <div id="comic-area" class="comic-area"></div>
          </div>
        </div>
      </div>
    </main>
    <aside class="layers-panel">
      <h2>图层</h2>
      <ul id="layer-list"></ul>
      <section class="export-section">
        <h3>导出漫画</h3>
        <label>格式
          <select id="export-format">
            <option value="jpg" selected>JPG</option>
            <option value="png">PNG</option>
          </select>
        </label>
        <label>质量
          <select id="export-quality">
            <option value="1" selected>高</option>
            <option value="0.75">中</option>
            <option value="0.5">低</option>
          </select>
        </label>
        <button id="export-image" class="primary">导出图片</button>
      </section>
    </aside>
  </div>
  <div id="tooltip" class="tooltip" hidden></div>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
